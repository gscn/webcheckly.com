# Linux 构建说明

## 快速构建

### 方法 1: 使用批处理脚本（Windows）

```bash
cd backend
build-linux.bat
```

### 方法 2: 手动构建（Windows PowerShell）

```powershell
cd backend
$env:GOOS="linux"
$env:GOARCH="amd64"
go build -ldflags "-s -w" -o dist/webcheckly-linux-amd64 main.go
```

### 方法 3: 手动构建（Linux/macOS）

```bash
cd backend
GOOS=linux GOARCH=amd64 go build -ldflags "-s -w" -o dist/webcheckly-linux-amd64 main.go
```

## 构建输出

构建成功后，可执行文件将保存在 `backend/dist/` 目录：

- `webcheckly-linux-amd64` - Linux amd64 版本（适用于大多数 Linux 服务器）

## 部署到 Linux 服务器

1. **上传文件**
   ```bash
   scp backend/dist/webcheckly-linux-amd64 user@server:/opt/webcheckly/
   ```

2. **设置执行权限**
   ```bash
   chmod +x /opt/webcheckly/webcheckly-linux-amd64
   ```

3. **配置环境变量**（创建 `.env` 文件或设置系统环境变量）
   ```bash
   export DATABASE_URL="postgres://user:password@localhost:5432/webcheckly?sslmode=disable"
   export JWT_SECRET="your-secret-key-here"
   export PORT="8080"
   ```

4. **运行**
   ```bash
   ./webcheckly-linux-amd64
   ```

## 注意事项

- 确保 Linux 服务器上已安装必要的依赖（如 httpx、katana 等工具）
- 确保数据库连接配置正确
- 建议使用 systemd 或 supervisor 管理服务

详细说明请参考 `BUILD.md`。
